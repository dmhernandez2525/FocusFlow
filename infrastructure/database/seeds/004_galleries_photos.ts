import { Knex } from 'knex';

export async function seed(knex: Knex): Promise<void> {
  // Delete existing entries
  await knex('photos').del();
  await knex('galleries').del();

  // Insert galleries first
  const galleries = [
    // Gallery for completed anniversary session
    {
      id: '880e8400-e29b-41d4-a716-446655440001',
      session_id: '770e8400-e29b-41d4-a716-446655440002',
      photographer_id: '550e8400-e29b-41d4-a716-446655440001',
      title: 'Robert & Mary - 25th Anniversary',
      description: 'A beautiful celebration of 25 years of love and marriage at the place where it all began.',
      cover_photo_url: 'https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=800&h=600&fit=crop',
      is_public: true,
      password_protected: false,
      gallery_password: null,
      expires_at: new Date('2024-12-31T23:59:59Z'),
      download_enabled: true,
      watermark_enabled: false,
      status: 'published',
      tenant_id: '550e8400-e29b-41d4-a716-446655440001',
      created_at: new Date('2024-03-20T19:00:00Z'),
      updated_at: new Date('2024-03-21T10:30:00Z'),
    },
    // Gallery for completed headshots
    {
      id: '880e8400-e29b-41d4-a716-446655440002',
      session_id: '770e8400-e29b-41d4-a716-446655440004',
      photographer_id: '550e8400-e29b-41d4-a716-446655440002',
      title: 'TechCorp Executive Team Headshots',
      description: 'Professional headshots for the executive team and senior management.',
      cover_photo_url: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop&crop=face',
      is_public: false,
      password_protected: true,
      gallery_password: 'techcorp2024',
      expires_at: null,
      download_enabled: true,
      watermark_enabled: true,
      status: 'published',
      tenant_id: '550e8400-e29b-41d4-a716-446655440002',
      created_at: new Date('2024-02-28T16:30:00Z'),
      updated_at: new Date('2024-03-01T09:00:00Z'),
    },
    // Gallery for completed maternity session
    {
      id: '880e8400-e29b-41d4-a716-446655440003',
      session_id: '770e8400-e29b-41d4-a716-446655440006',
      photographer_id: '550e8400-e29b-41d4-a716-446655440003',
      title: 'Michael & Sarah - Expecting',
      description: 'Capturing the excitement and joy of expecting their first child by the beautiful California coast.',
      cover_photo_url: 'https://images.unsplash.com/photo-1493894473891-10fc1e5dbd22?w=800&h=600&fit=crop',
      is_public: true,
      password_protected: false,
      gallery_password: null,
      expires_at: new Date('2024-09-25T23:59:59Z'),
      download_enabled: true,
      watermark_enabled: false,
      status: 'published',
      tenant_id: '550e8400-e29b-41d4-a716-446655440003',
      created_at: new Date('2024-03-25T18:00:00Z'),
      updated_at: new Date('2024-03-26T14:20:00Z'),
    },
    // Draft gallery for upcoming wedding
    {
      id: '880e8400-e29b-41d4-a716-446655440004',
      session_id: '770e8400-e29b-41d4-a716-446655440001',
      photographer_id: '550e8400-e29b-41d4-a716-446655440001',
      title: 'Emily & James Wedding Gallery',
      description: 'Wedding gallery - work in progress',
      cover_photo_url: null,
      is_public: false,
      password_protected: true,
      gallery_password: 'emily2024',
      expires_at: null,
      download_enabled: false,
      watermark_enabled: true,
      status: 'draft',
      tenant_id: '550e8400-e29b-41d4-a716-446655440001',
      created_at: new Date('2024-02-15T12:00:00Z'),
      updated_at: new Date('2024-02-15T12:00:00Z'),
    },
  ];

  await knex('galleries').insert(galleries);

  // Insert photos for the published galleries
  const photos = [
    // Photos for anniversary gallery
    {
      id: '990e8400-e29b-41d4-a716-446655440001',
      gallery_id: '880e8400-e29b-41d4-a716-446655440001',
      photographer_id: '550e8400-e29b-41d4-a716-446655440001',
      filename: 'anniversary_001.jpg',
      original_filename: 'DSC_0001.jpg',
      file_size: 5242880, // 5MB
      mime_type: 'image/jpeg',
      width: 3840,
      height: 2560,
      url: 'https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=3840&h=2560&fit=crop',
      thumbnail_url: 'https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=300&h=200&fit=crop',
      medium_url: 'https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=1200&h=800&fit=crop',
      metadata: {
        camera: 'Canon EOS R5',
        lens: '85mm f/1.4',
        aperture: 'f/2.8',
        shutter_speed: '1/200',
        iso: 400,
        focal_length: 85
      },
      is_selected: true,
      is_favorite: true,
      sort_order: 1,
      taken_at: new Date('2024-03-20T14:30:00Z'),
      tenant_id: '550e8400-e29b-41d4-a716-446655440001',
      created_at: new Date('2024-03-20T19:15:00Z'),
      updated_at: new Date('2024-03-21T10:30:00Z'),
    },
    {
      id: '990e8400-e29b-41d4-a716-446655440002',
      gallery_id: '880e8400-e29b-41d4-a716-446655440001',
      photographer_id: '550e8400-e29b-41d4-a716-446655440001',
      filename: 'anniversary_002.jpg',
      original_filename: 'DSC_0015.jpg',
      file_size: 4718592,
      mime_type: 'image/jpeg',
      width: 3840,
      height: 2560,
      url: 'https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=3840&h=2560&fit=crop',
      thumbnail_url: 'https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=300&h=200&fit=crop',
      medium_url: 'https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=1200&h=800&fit=crop',
      metadata: {
        camera: 'Canon EOS R5',
        lens: '85mm f/1.4',
        aperture: 'f/1.8',
        shutter_speed: '1/250',
        iso: 320,
        focal_length: 85
      },
      is_selected: true,
      is_favorite: false,
      sort_order: 2,
      taken_at: new Date('2024-03-20T14:45:00Z'),
      tenant_id: '550e8400-e29b-41d4-a716-446655440001',
      created_at: new Date('2024-03-20T19:15:00Z'),
      updated_at: new Date('2024-03-20T19:15:00Z'),
    },
    // Photos for headshots gallery
    {
      id: '990e8400-e29b-41d4-a716-446655440003',
      gallery_id: '880e8400-e29b-41d4-a716-446655440002',
      photographer_id: '550e8400-e29b-41d4-a716-446655440002',
      filename: 'headshot_ceo.jpg',
      original_filename: 'CEO_David_Miller.jpg',
      file_size: 3145728,
      mime_type: 'image/jpeg',
      width: 2400,
      height: 3000,
      url: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=2400&h=3000&fit=crop&crop=face',
      thumbnail_url: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=375&fit=crop&crop=face',
      medium_url: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=1000&fit=crop&crop=face',
      metadata: {
        camera: 'Sony A7R IV',
        lens: '85mm f/1.8',
        aperture: 'f/5.6',
        shutter_speed: '1/125',
        iso: 200,
        focal_length: 85
      },
      is_selected: true,
      is_favorite: true,
      sort_order: 1,
      taken_at: new Date('2024-02-28T10:00:00Z'),
      tenant_id: '550e8400-e29b-41d4-a716-446655440002',
      created_at: new Date('2024-02-28T16:45:00Z'),
      updated_at: new Date('2024-02-28T16:45:00Z'),
    },
    {
      id: '990e8400-e29b-41d4-a716-446655440004',
      gallery_id: '880e8400-e29b-41d4-a716-446655440002',
      photographer_id: '550e8400-e29b-41d4-a716-446655440002',
      filename: 'headshot_cto.jpg',
      original_filename: 'CTO_Sarah_Chen.jpg',
      file_size: 2883584,
      mime_type: 'image/jpeg',
      width: 2400,
      height: 3000,
      url: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=2400&h=3000&fit=crop&crop=face',
      thumbnail_url: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=375&fit=crop&crop=face',
      medium_url: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=800&h=1000&fit=crop&crop=face',
      metadata: {
        camera: 'Sony A7R IV',
        lens: '85mm f/1.8',
        aperture: 'f/5.6',
        shutter_speed: '1/125',
        iso: 200,
        focal_length: 85
      },
      is_selected: true,
      is_favorite: false,
      sort_order: 2,
      taken_at: new Date('2024-02-28T10:15:00Z'),
      tenant_id: '550e8400-e29b-41d4-a716-446655440002',
      created_at: new Date('2024-02-28T16:45:00Z'),
      updated_at: new Date('2024-02-28T16:45:00Z'),
    },
    // Photos for maternity gallery
    {
      id: '990e8400-e29b-41d4-a716-446655440005',
      gallery_id: '880e8400-e29b-41d4-a716-446655440003',
      photographer_id: '550e8400-e29b-41d4-a716-446655440003',
      filename: 'maternity_001.jpg',
      original_filename: 'Sunset_Beach_001.jpg',
      file_size: 6291456,
      mime_type: 'image/jpeg',
      width: 4000,
      height: 2667,
      url: 'https://images.unsplash.com/photo-1493894473891-10fc1e5dbd22?w=4000&h=2667&fit=crop',
      thumbnail_url: 'https://images.unsplash.com/photo-1493894473891-10fc1e5dbd22?w=300&h=200&fit=crop',
      medium_url: 'https://images.unsplash.com/photo-1493894473891-10fc1e5dbd22?w=1200&h=800&fit=crop',
      metadata: {
        camera: 'Nikon D850',
        lens: '24-70mm f/2.8',
        aperture: 'f/2.8',
        shutter_speed: '1/320',
        iso: 100,
        focal_length: 50
      },
      is_selected: true,
      is_favorite: true,
      sort_order: 1,
      taken_at: new Date('2024-03-25T15:30:00Z'),
      tenant_id: '550e8400-e29b-41d4-a716-446655440003',
      created_at: new Date('2024-03-25T18:15:00Z'),
      updated_at: new Date('2024-03-26T14:20:00Z'),
    },
    {
      id: '990e8400-e29b-41d4-a716-446655440006',
      gallery_id: '880e8400-e29b-41d4-a716-446655440003',
      photographer_id: '550e8400-e29b-41d4-a716-446655440003',
      filename: 'maternity_002.jpg',
      original_filename: 'Sunset_Beach_015.jpg',
      file_size: 5767168,
      mime_type: 'image/jpeg',
      width: 4000,
      height: 2667,
      url: 'https://images.unsplash.com/photo-1515691346809-cb446cb10d5e?w=4000&h=2667&fit=crop',
      thumbnail_url: 'https://images.unsplash.com/photo-1515691346809-cb446cb10d5e?w=300&h=200&fit=crop',
      medium_url: 'https://images.unsplash.com/photo-1515691346809-cb446cb10d5e?w=1200&h=800&fit=crop',
      metadata: {
        camera: 'Nikon D850',
        lens: '24-70mm f/2.8',
        aperture: 'f/4.0',
        shutter_speed: '1/250',
        iso: 160,
        focal_length: 70
      },
      is_selected: false,
      is_favorite: false,
      sort_order: 2,
      taken_at: new Date('2024-03-25T15:45:00Z'),
      tenant_id: '550e8400-e29b-41d4-a716-446655440003',
      created_at: new Date('2024-03-25T18:15:00Z'),
      updated_at: new Date('2024-03-25T18:15:00Z'),
    },
  ];

  await knex('photos').insert(photos);
}